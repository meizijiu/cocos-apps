{"version":3,"sources":["file:///Users/mzwine/Codes/other/cocos-apps/watermelon/assets/GameScene/ui/RefreshFruitNodeCtrl.ts"],"names":["_decorator","Component","Node","Tween","Vec3","CLIP","AudioHelper","NCKeys","NotificationCenter","ccclass","property","RefreshFruitNodeCtrl","state","start","onShowButtonClick","play","BUTTON","stopAllByTarget","toolNode","endPos","tween","to","position","onFruitButtonClick","event","custom","fruitId","parseInt","postNotice","REFRESH_CUR_FRUIT"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;AACpCC,MAAAA,I,0BAAAA,I;;AACAC,MAAAA,W,4BAAAA,W;;AACAC,MAAAA,M,mCAAAA,M;AAAQC,MAAAA,kB,mCAAAA,kB;;;;;;;OACX;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;sCAGjBW,oB,WADZF,OAAO,CAAC,sBAAD,C,UAKLC,QAAQ,CAACR,IAAD,C,oCALX,MACaS,oBADb,SAC0CV,SAD1C,CACoD;AAAA;AAAA;AAAA,eAElDW,KAFkD,GAEzB,MAFyB;;AAAA;AAAA;;AAOlDC,QAAAA,KAAK,GAAG,CACN;AACD;;AAEDC,QAAAA,iBAAiB,GAAG;AAClB;AAAA;AAAA,0CAAYC,IAAZ,CAAiB,OAAjB,EAA0B;AAAA;AAAA,4BAAKC,MAA/B;AACAb,UAAAA,KAAK,CAACc,eAAN,CAAsB,KAAKC,QAA3B;;AACA,cAAI,KAAKN,KAAL,IAAc,MAAlB,EAA0B;AACxB,iBAAKA,KAAL,GAAa,MAAb;AACA,gBAAIO,MAAM,GAAG,IAAIf,IAAJ,CAAS,CAAC,EAAV,EAAc,CAAC,GAAf,EAAoB,CAApB,CAAb;AACA,gBAAIgB,KAAK,GAAG,IAAIjB,KAAJ,CAAU,KAAKe,QAAf,CAAZ;AACAE,YAAAA,KAAK,CACFC,EADH,CACM,GADN,EACW;AAAEC,cAAAA,QAAQ,EAAEH;AAAZ,aADX,EAEGN,KAFH;AAGD,WAPD,MAQK;AACH,iBAAKD,KAAL,GAAa,MAAb;AACA,gBAAIO,MAAM,GAAG,IAAIf,IAAJ,CAAS,GAAT,EAAc,CAAC,GAAf,EAAoB,CAApB,CAAb;AACA,gBAAIgB,KAAK,GAAG,IAAIjB,KAAJ,CAAU,KAAKe,QAAf,CAAZ;AACAE,YAAAA,KAAK,CACFC,EADH,CACM,GADN,EACW;AAAEC,cAAAA,QAAQ,EAAEH;AAAZ,aADX,EAEGN,KAFH;AAGD;AACF;;AAEDU,QAAAA,kBAAkB,CAACC,KAAD,EAAQC,MAAR,EAAgB;AAChC;AAAA;AAAA,0CAAYV,IAAZ,CAAiB,OAAjB,EAA0B;AAAA;AAAA,4BAAKC,MAA/B;AACA,cAAIU,OAAO,GAAGC,QAAQ,CAACF,MAAD,CAAtB;AACA;AAAA;AAAA,wDAAmBG,UAAnB,CAA8B;AAAA;AAAA,gCAAOC,iBAArC,EAAwDH,OAAxD;AACD;;AApCiD,O;;;;;iBAK1B,I","sourcesContent":["import { _decorator, Component, Node, Tween, Vec3 } from 'cc';\nimport { CLIP } from '../../GlobalScript/AudioCtrl';\nimport { AudioHelper } from '../../GlobalScript/AudioHelper';\nimport { NCKeys, NotificationCenter } from '../../GlobalScript/NotificationCenter';\nconst { ccclass, property } = _decorator;\n\n@ccclass('RefreshFruitNodeCtrl')\nexport class RefreshFruitNodeCtrl extends Component {\n\n  state: 'hide' | 'show' = 'hide';\n\n  @property(Node)\n  public toolNode: Node = null;\n\n  start() {\n    // Your initialization goes here.\n  }\n\n  onShowButtonClick() {\n    AudioHelper.play('audio', CLIP.BUTTON);\n    Tween.stopAllByTarget(this.toolNode);\n    if (this.state == 'hide') {\n      this.state = 'show'\n      let endPos = new Vec3(-52, -122, 0);\n      let tween = new Tween(this.toolNode);\n      tween\n        .to(0.1, { position: endPos })\n        .start();\n    }\n    else {\n      this.state = 'hide';\n      let endPos = new Vec3(260, -122, 0);\n      let tween = new Tween(this.toolNode);\n      tween\n        .to(0.1, { position: endPos })\n        .start();\n    }\n  }\n\n  onFruitButtonClick(event, custom) {\n    AudioHelper.play('audio', CLIP.BUTTON);\n    let fruitId = parseInt(custom);\n    NotificationCenter.postNotice(NCKeys.REFRESH_CUR_FRUIT, fruitId);\n  }\n\n}\n"]}