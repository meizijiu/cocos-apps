{"version":3,"sources":["file:///Users/mzwine/Codes/other/cocos-apps/watermelon/assets/GlobalScript/LocalData.ts"],"names":["sys","Config","Base64","NCKeys","NotificationCenter","Utils","inited","LocalData","version","saveTimeStamp","_isMusicOn","isMusicOn","val","postNotice","IS_MUSIC_ON_CHANGED","_isShakeOn","isShakeOn","_energy","energy","ENERGY_CHANGED","lastGetEnergyTimeStamp","_diamond","diamond","DIAMOND_CHANGED","galaxyDetailData","unlock","watchVideo","planets","layerIndex","pieceIndex","galaxyIndex","planetIndex","pieceUpNumEachTime","_speedUpEndTimeStamp","speedUpEndTimeStamp","SPPED_UP_TIMESTAMP_CHANED","_autoTouchTimeStamp","autoTouchTimeStamp","AUTO_TOUCH_TIMESTAMP_CHANED","autoTouchLv","lastFreeLotteryTimeStamp","_lv","lv","_lvProgress","lvProgress","LVPROGRESS_CHANED","signinCanGetDay","signinGetTime","signinAnotherReward","refreshSigninData","canGetDay","getTime","satelliteDetailData","_cumShowVideo","cumShowVideo","CUMSHOWVIDEO_CHANGED","todayFreeDiamondTime","todayShareSucessTime","todayGetedCollectDiamond","laterBuyTimeMachineByDiamondTimeStamp","todayExchangeRemainDiamond","uuid","userAuthorizationOpenId","_userAuthorizationNickname","setUserAuthorizationNickname","encode","getUserAuthorizationNickname","decode","userAuthorizationavatarUrl","userAuthorizationPlatform","agreePrivacyAgreement","rememberPrivacyAgreement","gudioMark","clickSun","clickGalaxy","clickAutoTouch","clickSpeedUp","clickTimeMachine","clickMeteor","clickLottery","initDefaultLocalData","Object","assign","defaultLocalData","init","load","str","localStorage","getItem","json","JSON","parse","e","console","log","setItem","createUUID","updateVersion","getCurTime","offsetDay","save","dayjs","unix","stringify","clear","removeItem","globalThis"],"mappings":"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","sourcesContent":["import { assert, Game, log, sys } from \"cc\";\nimport { Config } from \"./Config\";\n\nimport { Base64 } from \"./Base64\";\nimport { NCKeys, NotificationCenter } from \"./NotificationCenter\";\nimport { Utils } from \"./Utils\";\n\n\nlet inited = false;\n\nexport let LocalData = {\n\n  version: null,\n\n  //最近的一次保存游戏的时间\n  saveTimeStamp: 0,\n\n  _isMusicOn: true,\n  get isMusicOn() {\n    return this._isMusicOn;\n  },\n  set isMusicOn(val) {\n    this._isMusicOn = val;\n    if (!inited) return;\n    NotificationCenter.postNotice(NCKeys.IS_MUSIC_ON_CHANGED, val);\n  },\n\n  _isShakeOn: true,\n  get isShakeOn() {\n    return this._isShakeOn;\n  },\n\n  set isShakeOn(val) {\n    this._isShakeOn = val;\n  },\n\n  //能量\n  _energy: 0,\n  get energy() {\n    return this._energy;\n  },\n\n  set energy(val: number) {\n    this._energy = val;\n\n    if (!inited) return;\n    NotificationCenter.postNotice(NCKeys.ENERGY_CHANGED, this._energy);\n  },\n  //为挂机离线收益计算提供时间,上一次计算自动收益的时间\n  lastGetEnergyTimeStamp: 0,\n\n\n  //钻石\n  _diamond: 0,\n  get diamond() {\n    return this._diamond;\n  },\n  set diamond(val) {\n    this._diamond = val;\n    if (!inited) return;\n    NotificationCenter.postNotice(NCKeys.DIAMOND_CHANGED, this._diamond);\n  },\n\n  galaxyDetailData: [\n    //太阳系\n    {\n      unlock: true,\n      watchVideo: 0,\n      planets: [\n        //  layerIndex 0 - 3 。 3表示已经完成了。  pieceIndex:0-299 表示拼接到哪个了\n        { unlock: true, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n      ]\n    },\n    //仙女\n    {\n      unlock: false,\n      watchVideo: 0,\n      planets: [\n\n        { unlock: true, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n      ]\n    },\n    //半人马\n    {\n      unlock: false,\n      watchVideo: 0,\n      planets: [\n        { unlock: true, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n      ]\n    },\n    //猎户\n    {\n      unlock: false,\n      watchVideo: 0,\n      planets: [\n        { unlock: true, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n        { unlock: false, layerIndex: 0, pieceIndex: -1 },\n      ]\n    },\n\n  ],\n\n\n\n\n  //当前已经解锁了的星系序号\n  galaxyIndex: 0,\n  //当前已经解锁了的星球序号\n  planetIndex: 0,\n  //当前已经解锁到了的星球的层数\n  layerIndex: 0,\n  //当前已经解锁了的碎片的序号, 注意这个序号是从-1开始的\n  pieceIndex: -1,\n  //每次拼凑的数量\n  pieceUpNumEachTime: 1,\n\n  //三倍加速的时间截止戳\n  _speedUpEndTimeStamp: 0,\n  set speedUpEndTimeStamp(val) {\n    this._speedUpEndTimeStamp = val;\n    if (!inited)\n      return;\n    NotificationCenter.postNotice(NCKeys.SPPED_UP_TIMESTAMP_CHANED, this._speedUpEndTimeStamp);\n  },\n  get speedUpEndTimeStamp() {\n    return this._speedUpEndTimeStamp;\n  },\n\n  //自动点击的时间结束戳\n  _autoTouchTimeStamp: 0,\n  set autoTouchTimeStamp(val) {\n    this._autoTouchTimeStamp = val;\n    if (!inited)\n      return;\n    NotificationCenter.postNotice(NCKeys.AUTO_TOUCH_TIMESTAMP_CHANED, this._autoTouchTimeStamp);\n  },\n  get autoTouchTimeStamp() {\n    return this._autoTouchTimeStamp;\n  },\n\n  //自动点击的等级\n  autoTouchLv: 0,\n\n  //上一次免费抽奖时间\n  lastFreeLotteryTimeStamp: 0,\n\n  //右上角的等级\n  _lv: 0,\n  get lv() {\n    return this._lv;\n  },\n  set lv(val) {\n    this._lv = val;\n  },\n  //右上角的等级的进度条\n  _lvProgress: 0,\n  get lvProgress() {\n    return this._lvProgress;\n  },\n  set lvProgress(val) {\n    this._lvProgress = val;\n    if (!inited)\n      return;\n\n    NotificationCenter.postNotice(NCKeys.LVPROGRESS_CHANED, this._lvProgress);\n  },\n\n  //每日签到即将得到的奖励 1 - 8。\n  signinCanGetDay: 1,\n  //上一次领取签到奖励的时戳\n  signinGetTime: 0,\n  //是否可以得到额外的奖励\n  signinAnotherReward: true,\n\n\n  //领取了每日签到奖励后会调用这个函数\n  refreshSigninData: function (canGetDay, getTime) {\n    this.signinCanGetDay = canGetDay;\n    this.signinGetTime = getTime;\n\n    if (!inited) return;\n    // NotificationCenter.postNotice(NCKeys.SIGNIN_DATA_CHANGED, null);\n  },\n\n  satelliteDetailData: [\n    0, 0, 0, 0, 0, 0, 0, 0, 0,\n  ],\n\n  // //已经解锁的卫星\n  // _unlockSatelliteIds: [],\n  // isSatelliteUnlock(id) {\n  //   return this._unlockSatelliteIds.includes(id);\n  // },\n  // unlockSatelliteId(id) {\n  //   if (this._unlockSatelliteIds.includes(id))\n  //     return log(`卫星的${id}已经解锁了`);\n\n  //   this._unlockSatelliteIds.push(id);\n  //   // GlobalTemp.refreshSatelliteBuffer(this._unlockSatelliteIds);\n  //   NotificationCenter.postNotice(NCKeys.UNLOCK_SATELLITE_ID_CHANGED, id);\n  // },\n\n  _cumShowVideo: 0,\n  get cumShowVideo() {\n    return this._cumShowVideo;\n  },\n  set cumShowVideo(val) {\n    this._cumShowVideo = val;\n\n    if (!inited) return;\n    NotificationCenter.postNotice(NCKeys.CUMSHOWVIDEO_CHANGED, this._cumShowVideo);\n  },\n\n  //今日已经领取了多少次免费钻石\n  todayFreeDiamondTime: 0,\n  //今日已经分享得到了多少次免费钻石\n  todayShareSucessTime: 0,\n  //今天是否已经领取登录钻石\n  todayGetedCollectDiamond: false,\n  //最近一次使用钻石购买时间机器的时间戳\n  laterBuyTimeMachineByDiamondTimeStamp: 0,\n  //今日直接兑换钻石额度为多少\n  todayExchangeRemainDiamond: 200,\n\n  uuid: null, //唯一的标识符\n\n  //用户的信息开始\n  //用户的授权信息\n  userAuthorizationOpenId: null,\n\n  //用户的昵称, 因为用户的昵称可能含有非法的字符串。导致存档损坏。所以要先Base64一下\n  _userAuthorizationNickname: null,\n  setUserAuthorizationNickname(val) {\n    if (val == null)\n      this._userAuthorizationNickname = null;\n    else\n      this._userAuthorizationNickname = Base64.encode(val);\n  },\n  getUserAuthorizationNickname() {\n    if (this._userAuthorizationNickname == null)\n      return null;\n    else\n      return Base64.decode(this._userAuthorizationNickname);\n  },\n\n  //用户的头像的url\n  userAuthorizationavatarUrl: null,\n  userAuthorizationPlatform: null, //'WX_MINI_GAME', \"QQ_PLAY\", \"WX_NATIVE\", \"QQ_NATIVE\"\n  //用户的信息结束\n\n  //是否同意了用户协议\n  agreePrivacyAgreement: false,\n  //是否记住了用户协议\n  rememberPrivacyAgreement: false,\n\n\n  //false 表示没有执行， \n  gudioMark: {\n    clickSun: false, //点击太阳\n    clickGalaxy: false, //点击星系\n    clickAutoTouch: false, //点击自动点击\n    clickSpeedUp: false, //点击超级加速\n    clickTimeMachine: false, //点击了时间机器\n    clickMeteor: false, //软引导去点击流星\n    clickLottery: false, //点击幸运转盘\n  },\n\n  initDefaultLocalData() {\n    Object.assign(defaultLocalData, this);\n  },\n\n  init() {\n    if (inited == true)\n      return false;\n\n    this.load();\n\n    inited = true; //这句话放在最后一句\n    return true;\n  },\n\n  load() {\n    let str: string = sys.localStorage.getItem(\"create_universe\");\n    if (str != null && str != '') {\n      try {\n        var json = JSON.parse(str);\n        Object.assign(this, json);\n\n      } catch (e) {\n        console.log('加载存档出错了', e);\n        sys.localStorage.setItem(\"create_universe\", '');\n        this.load();\n        return;\n      }\n\n\n\n      if (this.uuid == null) this.uuid = Utils.createUUID();\n      //防止越界\n\n      if (this.version != Config.version) {\n        this.updateVersion();\n        this.version = Config.version;\n\n      }\n    }\n    else {\n      //todo init存档\n      this.version = Config.version;\n      this.saveTimeStamp = Utils.getCurTime();\n    }\n\n    if (Utils.offsetDay(this.saveTimeStamp, Utils.getCurTime()) != 0) {\n      //todo 重置今日任务\n      this.todayFreeDiamondTime = 0;\n      this.todayShareSucessTime = 0;\n      this.todayExchangeRemainDiamond = 200;\n      this.todayGetedCollectDiamond = false;\n    }\n  },\n\n  save() {\n    this.saveTimeStamp = dayjs().unix();\n    let str: String = JSON.stringify(this);\n    sys.localStorage.setItem('create_universe', str);\n\n    //将自己的存档放到微信服务器上\n    // this.WXSetUserCloudStorage();\n  },\n\n\n\n  clear() {\n    sys.localStorage.removeItem(\"create_universe\");\n    Object.assign(this, defaultLocalData);\n    this.load();\n  },\n\n  updateVersion() {\n    if (this.version == '1.2.0') {\n      this.todayGetedCollectDiamond = false;\n      this.version = '1.3.0'\n    }\n\n    if (this.version == '1.3.0') {\n      this.laterBuyTimeMachineByDiamondTimeStamp = 0;\n      this.todayExchangeRemainDiamond = 200;\n      this.version = '1.4.0'\n    }\n  }\n}\n\nlet defaultLocalData: object = {};\nglobalThis.LocalData = LocalData;\n"]}